<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>{{{ PRODUCT_NAME }}}</title>
  
  <style>@font-face {
    font-family: "troika";
    src: url("Fonts/ALL_troika.woff") format('woff');
  } </style>
</head>

<body style="margin: 0px; overflow: hidden; background-image: url('{{{ BACKGROUND_IMAGE }}}'); background-size: 100vw 100vh;" oncontextmenu="return false;">
<canvas id="unity-canvas"
        style="position: fixed; width: 100%; height: 100%;" >
</canvas>

<span id ="loading-text" style="position: absolute; font-family: troika; font-size: 46pt; color: black;
   -webkit-text-fill-color: #FFD419;-webkit-text-stroke-width: 1px; -webkit-text-stroke-color: initial; text-align: center; top: 60%; width: 100%"></span>

<span id ="quotes" style="position: absolute; font-family: troika; font-size: xx-large; right: 3px; color: black; -webkit-text-fill-color: #FFD419; 
  -webkit-text-stroke-width: 1px; -webkit-text-stroke-color: initial; text-align: left; top: 85%; width: 50%; word-wrap: break-word"></span>

<div id="outer-progress-bar" style="position: absolute; left: 15%; right: 15%; top: 50%; height: 60px; background-color: darkgoldenrod;">

  <div id="progress-bar" style="height: 100%; background-color: #FFD419; position: relative; width: 100%">
   <span id="loading-percent" style="position: fixed; font-size: xxx-large; display: block; font-family: troika; top: 50.5%; left: 50%">
     0%
  </span>
  </div>
</div>

  <script src="Build/{{{ LOADER_FILENAME }}}"></script>
  <script>
    const isMobileDevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent);

    const settings = {
      dataUrl: "Build/{{{ DATA_FILENAME }}}",
      frameworkUrl: "Build/{{{ FRAMEWORK_FILENAME }}}",
      #if USE_WASM
      codeUrl: "Build/{{{ CODE_FILENAME }}}",
      #endif
      #if MEMORY_FILENAME
      memoryUrl: "Build/{{{ MEMORY_FILENAME }}}",
      #endif
      #if SYMBOLS_FILENAME
      symbolsUrl: "Build/{{{ SYMBOLS_FILENAME }}}",
      #endif
      streamingAssetsUrl: "StreamingAssets",
      companyName: "{{{ COMPANY_NAME }}}",
      productName: "{{{ PRODUCT_NAME }}}",
      productVersion: "{{{ PRODUCT_VERSION }}}",
      matchWebGLToCanvasSize: true,
      devicePixelRatio: !isMobileDevice ? {{{ parseFloat(RENDER_SCALE) ? parseFloat(RENDER_SCALE) : 2.0 }}} : {{{ parseFloat(MOBILE_RENDER_SCALE) ? parseFloat(MOBILE_RENDER_SCALE) : 1.6 }}},
    };

    const progressBar = document.querySelector("#progress-bar");
    const progressText = document.querySelector("#loading-percent");
    const outerProgressBar = document.querySelector("#outer-progress-bar");
    
    createUnityInstance(document.querySelector("#unity-canvas"), settings, (progress) => {
      progressBar.style.width = 100 * progress + "%";
      progressText.textContent = Math.round(100 * progress) + "%";
    }).then(() => {
    }).catch((message) => {
      alert(message);
    });

    window.hide = function(){
      progressBar.style.display = "none";
      outerProgressBar.style.display = "none";
    };
  </script>
</body>

</html>
